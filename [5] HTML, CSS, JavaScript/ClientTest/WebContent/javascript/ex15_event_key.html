<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- ex16_event_key.html -->
    <h1>키 이벤트</h1>
    <form name="form1">
        <input type="text" name="txt1" size="50">
        <hr>
        <input type="text" name="txt1" size="50">
        <hr>
        <textarea name="txt3" id="" cols="30" rows="10"></textarea>
    </form>
    <script>

        /*

        키 이벤트
        - 폼관련 태그들에게만 주로 사용한다. (포커스를 가져야하기 때문에)
        - onkeyXXX

        1. onkeydown
            - 키를 눌렀을 때 발생
            -  물리 키에 반응(a, A -> 65)
            - 입력값이 바로 필요하지 않는 경우 (더 많이 씀)

        2. onkeyup
            - 키를 뗐을 때 발생
            - 입력값을 사용해야 하는 업무를 쓸 때

        --------------------------

        3. onkeypress (많이 사용 안함)
            - 키를 눌렀을 때 발생

        */

        var txt1 = window.document.form1.txt1;
        var txt2 = window.document.form1.txt2;
        var txt3 = window.document.form1.txt3;

        txt1.onkeydown = f1;
        txt1.onkeyup = f2;
        txt1.onkeypress = f3;

        function f1() {
            // console.log("keydown");
            // console.log(event.keyCode);
            txt2.value = txt1.value;
        };
        
        function f2() {
            // console.log("keyup");
        };
        
        function f3() {
            // console.log("keypress");
            console.log(event.keyCode);

        }

        // 전역 이벤트
        // - 어떤 태그에 포커스가 있던지 항상 반응하는 이벤트
        window.onkeyup = function() {
            if (event.keyCode == 37) { //좌
                txt3.cols--;
            } else if (event.keyCode == 39) { //우
                txt3.cols++;
            } else if (event.keyCode == 38) { //상
                txt3.rows--;
            } else if (event.keyCode == 40) { //하
                txt3.rows++;
            }
        }
    </script>
</body>
</html>